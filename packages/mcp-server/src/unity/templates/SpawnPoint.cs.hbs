using UnityEngine;

/// <summary>
/// Defines a location where enemies can spawn
/// </summary>
public class SpawnPoint : MonoBehaviour
{
    [Header("Spawn Settings")]
    [SerializeField] private float spawnRadius = 0.5f;
    [SerializeField] private bool randomizePosition = true;

    public Vector3 GetSpawnPosition()
    {
        if (randomizePosition)
        {
            // Random position within spawn radius
            Vector2 randomOffset = Random.insideUnitCircle * spawnRadius;
            return transform.position + new Vector3(randomOffset.x, randomOffset.y, 0f);
        }
        else
        {
            return transform.position;
        }
    }

    private void OnDrawGizmos()
    {
        // Visualize spawn point in editor
        Gizmos.color = Color.cyan;
        Gizmos.DrawWireSphere(transform.position, spawnRadius);

        Gizmos.color = new Color(0f, 1f, 1f, 0.3f);
        Gizmos.DrawSphere(transform.position, 0.2f);
    }

    private void OnDrawGizmosSelected()
    {
        // Enhanced visualization when selected
        Gizmos.color = Color.cyan;
        Gizmos.DrawWireSphere(transform.position, spawnRadius);

        // Draw spawn area
        Gizmos.color = new Color(0f, 1f, 1f, 0.1f);
        Gizmos.DrawSphere(transform.position, spawnRadius);
    }
}
